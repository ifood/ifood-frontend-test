{"ast":null,"code":"import _toConsumableArray from \"/Users/pedroneto/Documents/pessoal/spotifood/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/pedroneto/Documents/pessoal/spotifood/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pedroneto/Documents/pessoal/spotifood/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pedroneto/Documents/pessoal/spotifood/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pedroneto/Documents/pessoal/spotifood/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pedroneto/Documents/pessoal/spotifood/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pedroneto/Documents/pessoal/spotifood/src/components/ListPlaylist.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport api from '../services/api';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as playlistsActions from '../actions/playlists';\nimport './ListPlaylist.css';\nimport Playlist from '../components/Playlist';\n\nvar ListPlaylist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ListPlaylist, _Component);\n\n  function ListPlaylist() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ListPlaylist);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ListPlaylist)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      limit: 5,\n      offset: 5,\n      loadingMore: false\n    };\n\n    _this.handleClick = function (e) {\n      var _this$state = _this.state,\n          limit = _this$state.limit,\n          offset = _this$state.offset;\n\n      _this.setState({\n        offset: offset + limit\n      });\n\n      var response = api.get('browse/featured-playlists', {\n        params: {\n          limit: 5,\n          offset: offset,\n          loadingMore: true\n        }\n      }).then(function (data) {\n        console.log('REQUEST: ', data.data.playlists.items);\n        var newData = data.data.playlists.items;\n\n        _this.setState({\n          loadingMore: false\n        }); // console.log(newData);\n        // console.log([...this.props.playlists[0], ...newData]);\n\n\n        var playlists = [].concat(_toConsumableArray(_this.props.playlists[0]), _toConsumableArray(newData));\n\n        _this.props.listPlaylists(playlists);\n      }).catch(function (error) {\n        console.log(error);\n      }); // console.log('PROPS: ', this.props.playlists[0]);\n      // this.props.listPlaylists(response.data.playlists.items);\n    };\n\n    return _this;\n  }\n\n  _createClass(ListPlaylist, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var playlists = this.props.playlists;\n      var data = playlists[0];\n\n      if (data !== undefined) {\n        return React.createElement(React.Fragment, null, data.map(function (item) {\n          return React.createElement(Playlist, {\n            key: item.id,\n            playlist: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          });\n        }), React.createElement(\"div\", {\n          className: \"load-more-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick() {\n            return _this2.handleClick();\n          },\n          style: {\n            backgroundColor: 'rgb(0, 225, 85)',\n            border: 0,\n            fontWeight: '500'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Load More\")));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return ListPlaylist;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    playlists: state.playlists\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators(playlistsActions, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListPlaylist);","map":{"version":3,"sources":["/Users/pedroneto/Documents/pessoal/spotifood/src/components/ListPlaylist.js"],"names":["React","Component","Button","api","bindActionCreators","connect","playlistsActions","Playlist","ListPlaylist","state","limit","offset","loadingMore","handleClick","e","setState","response","get","params","then","data","console","log","playlists","items","newData","props","listPlaylists","catch","error","undefined","map","item","id","backgroundColor","border","fontWeight","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Button } from 'react-bootstrap';\n\nimport api from '../services/api';\n\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as playlistsActions from '../actions/playlists';\n\nimport './ListPlaylist.css';\n\nimport Playlist from '../components/Playlist';\n\nclass ListPlaylist extends Component {\n\tstate = {\n\t\tlimit: 5,\n\t\toffset: 5,\n\t\tloadingMore: false\n\t};\n\n\thandleClick = e => {\n\t\tconst { limit, offset } = this.state;\n\t\tthis.setState({\n\t\t\toffset: offset + limit\n\t\t});\n\n\t\tconst response = api\n\t\t\t.get('browse/featured-playlists', {\n\t\t\t\tparams: {\n\t\t\t\t\tlimit: 5,\n\t\t\t\t\toffset: offset,\n\t\t\t\t\tloadingMore: true\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tconsole.log('REQUEST: ', data.data.playlists.items);\n\t\t\t\tconst newData = data.data.playlists.items;\n\t\t\t\tthis.setState({ loadingMore: false });\n\t\t\t\t// console.log(newData);\n\t\t\t\t// console.log([...this.props.playlists[0], ...newData]);\n\t\t\t\tconst playlists = [...this.props.playlists[0], ...newData];\n\t\t\t\tthis.props.listPlaylists(playlists);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\n\t\t// console.log('PROPS: ', this.props.playlists[0]);\n\t\t// this.props.listPlaylists(response.data.playlists.items);\n\t};\n\n\trender() {\n\t\tconst { playlists } = this.props;\n\t\tlet data = playlists[0];\n\n\t\tif (data !== undefined) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{data.map(item => (\n\t\t\t\t\t\t<Playlist key={item.id} playlist={item} />\n\t\t\t\t\t))}\n\t\t\t\t\t<div className=\"load-more-button\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => this.handleClick()}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: 'rgb(0, 225, 85)',\n\t\t\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\t\t\tfontWeight: '500'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLoad More\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tplaylists: state.playlists\n});\n\nconst mapDispatchToProps = dispatch =>\n\tbindActionCreators(playlistsActions, dispatch);\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ListPlaylist);\n"]},"metadata":{},"sourceType":"module"}