(this["webpackJsonpifood-frontend-test"]=this["webpackJsonpifood-frontend-test"]||[]).push([[0],{175:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(19),i=t.n(o),c=t(7),l={title:"Ifood",colors:{first:"#F5F3F4",second:"#EA1D2C",third:"#DA5D69",white:"#FFF",black:"#000",gray:"#3e3e3e",on:"#000",off:"#DA5D69"}},u={title:"Spotify",colors:{first:"#000",second:"#1ED760",third:"#15883E",white:"#000",black:"#FFF",gray:"#BFBFBF",on:"#000",off:"#DA5D69"}},d=Object(r.createContext)({}),s=function(n){var e=n.children,t=Object(r.useState)((function(){var n=localStorage.getItem("@spotifood:theme");return n?JSON.parse(n):u})),o=Object(c.a)(t,2),i=o[0],s=o[1];return a.a.createElement(d.Provider,{value:{toggleTheme:function(){"Spotify"===i.title?(s(l),localStorage.setItem("@spotifood:theme",JSON.stringify(l))):(s(u),localStorage.setItem("@spotifood:theme",JSON.stringify(u)))},theme:i}},e)};function m(){return Object(r.useContext)(d)}var f=t(10);var p=["user-read-email"],h=function(){var n="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("1ff02f4e067e408fa2d3e5d6e8aad1a5","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(p.join("%20"),"&response_type=token");window.location.href=n},v=Object(r.createContext)({}),b=function(n){var e=n.children,t=Object(r.useState)((function(){var n=localStorage.getItem("@Spotifood:token");return n||null})),o=Object(c.a)(t,2),i=o[0],l=o[1],u=Object(f.e)();return Object(r.useEffect)((function(){if(i){var n=new Date,e=localStorage.getItem("@Spotifood:expiresAt");e&&n.getTime()>Date.parse(e.toString())&&(localStorage.removeItem("@Spotifood:token"),localStorage.removeItem("@Spotifood:expiresAt"),h())}else{var t=function(n){var e=n.split("&"),t={};return e.forEach((function(n){var e=n.split("=");e.length<2&&e.push("");var r=decodeURIComponent(e[0]),a=decodeURIComponent(e[1]);t[r]=a})),{accessToken:t["#access_token"],type:t.token_type,expiresIn:Number(t.expires_in)}}(u.hash),r=t.accessToken,a=t.expiresIn;if(r){var o=new Date;o.setSeconds(o.getSeconds()+a),localStorage.setItem("@Spotifood:token",r),localStorage.setItem("@Spotifood:expiresAt",o.toString()),l(r)}}""!==window.location.hash&&(window.location.hash="")}),[i,u]),a.a.createElement(v.Provider,{value:{token:i}},e)};var g=t(57),j=t(5),O=t(6);function E(){var n=Object(O.a)(["\n\n*{\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n    \n}\n\nhtml, body, #root {\n    height: 100%;\n}\n\n*, button, input {\n    border: 0;\n    outline: 0;\n    font-family: 'Secular One', sans-serif;\n    -webkit-font-smoothing: antialiased !important;\n    font-weight: 400;\n}\n\nbutton {\n    cursor: pointer;\n}\n"]);return E=function(){return n},n}var x=Object(j.b)(E()),w=Object(r.createContext)({}),y=function(n){var e=n.children,t=Object(r.useState)({}),o=Object(c.a)(t,2),i=o[0],l=o[1],u=Object(r.useCallback)((function(n){l(n)}),[]);return a.a.createElement(w.Provider,{value:{filter:i,updateFilter:u}},e)};function k(){var n=Object(r.useContext)(w);if(!n)throw new Error("useFilter must be used within an AuthProvider");return n}var S=function(n){var e=n.children;return a.a.createElement(b,null,a.a.createElement(y,null,e))},C=t(87),I=t(64),F=t(29),_=t.n(F),A=t(88),D=t(38),z=t(39),T=t.n(z);var M=function(){var n=Object(D.a)(_.a.mark((function n(e,t){var r,a,o;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},(null===t||void 0===t?void 0:t.locale)&&(r.locale=t.locale),(null===t||void 0===t?void 0:t.country)&&(r.country=t.country),(null===t||void 0===t?void 0:t.timestamp)&&(r.timestamp=t.timestamp.toISOString()),(null===t||void 0===t?void 0:t.limit)&&(r.limit=t.limit),(null===t||void 0===t?void 0:t.offset)&&(r.offset=t.offset),n.next=8,T.a.get("https://api.spotify.com/v1/browse/featured-playlists",{params:r,headers:{Authorization:"Bearer ".concat(e)}});case 8:return a=n.sent,o=a.data.playlists.items,n.abrupt("return",o.map((function(n){return Object(A.a)({},n,{description:(e=n.description,e.replace(/<\/?[^>]+(>|$)/g,"").toString())});var e})));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();function N(){var n=Object(O.a)(["\ngrid-area: CT;\nbackground-color: "," ;\npadding: 25px;\n\nheight: calc(100vh - 70px); \noverflow-y: scroll;\n\n::-webkit-scrollbar {\n    width: 10px;\n}\n\n::-webkit-scrollbar-thumb{\n    background-color: ",";\n    border-radius: 10px;\n}\n"]);return N=function(){return n},n}var P=j.d.div(N(),(function(n){return n.theme.colors.first}),(function(n){return n.theme.colors.second})),H=function(n){var e=n.children;return a.a.createElement(P,null,e)},L=t(81),R=t.n(L);function B(){var n=Object(O.a)(["\ncolor: ",";\nmargin-left: 20px;\n"]);return B=function(){return n},n}function J(){var n=Object(O.a)(["\nheight:40px;\nwidth:40px;\n"]);return J=function(){return n},n}function U(){var n=Object(O.a)(["\ndisplay: flex;\nalign-items: center;\nheight: 70px;\n"]);return U=function(){return n},n}function $(){var n=Object(O.a)(["\ngrid-area: LM;\nbackground-color: ",";\npadding-left: 40px;\nborder-right: 4px solid ",";\n"]);return $=function(){return n},n}var q=j.d.div($(),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.second})),Q=j.d.div(U()),X=j.d.img(J()),G=j.d.h3(B(),(function(n){return n.theme.colors.black})),K=function(){return a.a.createElement(q,null,a.a.createElement(Q,null,a.a.createElement(X,{src:R.a,alt:"logo Spotify"}),a.a.createElement(G,null," SpotIfood ")))};function V(){var n=Object(O.a)(["\nfont-size: 16px;\n"]);return V=function(){return n},n}function W(){var n=Object(O.a)([""]);return W=function(){return n},n}function Y(){var n=Object(O.a)(["\ncolor: ",";\ntext-align: center;\n"]);return Y=function(){return n},n}function Z(){var n=Object(O.a)(["\ngrid-area: MH;\nbackground-color: ",";\ndisplay: flex;\njustify-content: space-around;\nalign-items: center;\npadding: 0 10px;\n"]);return Z=function(){return n},n}var nn=j.d.div(Z(),(function(n){return n.theme.colors.second})),en=j.d.div(Y(),(function(n){return n.theme.colors.white})),tn=j.d.h3(W()),rn=j.d.span(V()),an=["\ud83d\ude00","\ud83d\ude01","\ud83d\ude04","\ud83d\ude05","\ud83d\ude07","\ud83d\ude09","\ud83d\ude0d","\ud83d\ude0e","\ud83d\ude1c","\ud83e\udd29"],on=t(82),cn=t.n(on);function ln(){var n=Object(O.a)(["\nmargin: 0 7px;\n"]);return ln=function(){return n},n}function un(){var n=Object(O.a)(["\ncolor: ",""]);return un=function(){return n},n}function dn(){var n=Object(O.a)(["\ndisplay: flex;\nalign-items:center;\n"]);return dn=function(){return n},n}var sn=j.d.div(dn()),mn=j.d.span(un(),(function(n){return n.theme.colors.white})),fn=Object(j.d)(cn.a).attrs((function(n){var e=n.theme;return{onColor:e.colors.on,offColor:e.colors.off}}))(ln()),pn=function(n){var e=n.labelLeft,t=n.labelRight,r=n.checked,o=n.onChange;return a.a.createElement(sn,null,a.a.createElement(mn,null,e),a.a.createElement(fn,{checked:r,uncheckedIcon:!1,checkedIcon:!1,onChange:o}),a.a.createElement(mn,null,t))},hn=function(){var n=m(),e=n.toggleTheme,t=n.theme,o=Object(r.useState)((function(){return"Spotify"===t.title})),i=Object(c.a)(o,2),l=i[0],u=i[1],d=Object(r.useMemo)((function(){var n=Math.floor(Math.random()*an.length);return an[n]}),[]);return a.a.createElement(nn,null,a.a.createElement(pn,{labelLeft:"Ifood",labelRight:"Spotify",checked:l,onChange:function(){u(!l),e()}}),a.a.createElement(en,null,a.a.createElement(tn,null," Ol\xe1, ",d," FoodLover!"),a.a.createElement(rn,null," Que tal um pouco de m\xfasica?")))};function vn(){var n=Object(O.a)(["\n\ndisplay: grid;\ngrid-template-columns: 250px auto;\ngrid-template-rows: 70px auto;\ngrid-template-areas: \n'LM MH'\n'LM CT';\nheight: 100vh;\n\n\n"]);return vn=function(){return n},n}var bn=j.d.div(vn()),gn=function(n){var e=n.children;return a.a.createElement(bn,null,a.a.createElement(hn,null),a.a.createElement(K,null),a.a.createElement(H,null," ",e," "))},jn=t(83),On=t.n(jn);function En(){var n=Object(O.a)(["\nmargin-top: 15px;\npadding: 5px;\nborder-radius: 16px;\nbackground-color: white;\ndisplay: flex;\njustify-content: space-evenly;\nalign-items: center;\nheight: 40px;\nwidth: 230px;\nfont-size: 16px;\ncolor: black;\n\ntransition: background .3s;\n\n&:hover{\n    background-image: linear-gradient(#EA1D2C, #1ED760);\n    color: white;\n}\n\nsvg {\n   color: #a8a8b3;\n}\n\n"]);return En=function(){return n},n}function xn(){var n=Object(O.a)(["\ncolor: #E1E6EA  ;\npadding: 20px;\n"]);return xn=function(){return n},n}function wn(){var n=Object(O.a)(["\n"]);return wn=function(){return n},n}function yn(){var n=Object(O.a)(["\n    display: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\npadding-top: 120px;\n    "]);return yn=function(){return n},n}function kn(){var n=Object(O.a)(["\n    display: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\npadding-top: 120px;\n    "]);return kn=function(){return n},n}function Sn(){var n=Object(O.a)(["\n","\n\n  ","\n"]);return Sn=function(){return n},n}function Cn(){var n=Object(O.a)(["\nbackground-image: url(",");\nopacity: .9;\nbackground-size: cover;\nbackground-position: start;\nleft: 0;\ntop: 0;\nposition: relative;\nheight: 100vh;\nalign-items: center;\n\n"]);return Cn=function(){return n},n}function In(){var n=Object(O.a)(["\n  align-items: center;\n  background-color: #fff;\n  border: 2px solid #fff;\n  border-radius: 0.3rem;\n  display: flex;\n  padding: 0 1rem;\n  margin-bottom: 2.5rem;\n\n  svg {\n    color: #a8a8b3;\n  }\n\n  input {\n    border: none;\n    color: #3a3a3a;\n    flex: 1;\n    height: 2.8rem;\n    padding: 0 1rem;\n\n    &::placeholder {\n      color: #a8a8b3;\n    }\n  }\n"]);return In=function(){return n},n}function Fn(){var n=Object(O.a)(["\n  height: 100%;\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 1rem;\n"]);return Fn=function(){return n},n}function _n(){var n=Object(O.a)(["\n  min-height: 100vh;\n  display: flex;\n\n  @media (min-width: 500px) {\n    justify-content: start;\n    text-align: left;\n  }\n"]);return _n=function(){return n},n}var An=j.d.div(_n()),Dn=j.d.div(Fn()),zn=j.d.div(In()),Tn=j.d.div(Cn(),On.a),Mn=j.d.div(Sn(),(function(n){return!n.hasToken&&Object(j.c)(kn())}),(function(n){return n.hasToken&&Object(j.c)(yn())})),Nn=j.d.div(wn()),Pn=j.d.h1(xn()),Hn=j.d.button(En()),Ln=t(65),Rn=t(84),Bn=t.n(Rn),Jn=function(){var n=Object(D.a)(_.a.mark((function n(){var e,t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.get("http://www.mocky.io/v2/5a25fade2e0000213aa90776");case 2:return e=n.sent,t=e.data.filters,n.abrupt("return",t.map((function(n){var e=null;return n.values&&(e=n.values.map((function(n){return{name:n.value,label:n.name}}))),{id:n.id,name:n.name,values:e,validation:n.validation}})));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();t(116);function Un(){var n=Object(O.a)(["\n  width: 100%;\n\n  & + div {\n    margin-top: 1rem;\n  }\n\n  .react-select__control {\n    border-radius: 0.3rem;\n    height: 2.4rem;\n    width: 100%;\n\n    .react-select__value-container {\n      padding: 0 0.5rem;\n\n      .react-select__placeholder {\n        color: #a8a8b3;\n        font-size: 0.9rem;\n      }\n\n      input {\n        color: #3a3a3a;\n        font-size: 0.9rem;\n      }\n    }\n  }\n\n  .react-select__menu {\n    .react-select__option {\n      color: #3a3a3a;\n    }\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  > input, .react-datepicker-wrapper input {\n    border: 2px solid transparent;\n    border-radius: 0.3rem;\n    font-size: 0.9rem;\n    height: 2.4rem;\n    padding: 0 0.5rem;\n    width: 100%;\n\n    &::placeholder {\n      color: #a8a8b3;\n    }\n  }\n\n  @media (min-width: 500px) {\n    width: calc(100% / 6);\n\n    & + div {\n      margin-top: 0;\n      margin-left: 1rem;\n    }\n  }\n"]);return Un=function(){return n},n}function $n(){var n=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n\n  > button {\n    background-color: #1db954;\n    border: none;\n    border-radius: 0.3rem;\n    color: #fff;\n    font-weight: bold;\n    height: 2.4rem;\n    margin-top: 1rem;\n    width: 100%;\n    transition: background-color 0.2s;\n\n\n  }\n\n  @media (min-width: 500px) {\n    flex-direction: row;\n\n    > button {\n      margin-top: 0;\n      margin-left: 1rem;\n      width: calc(100% / 6);\n    }\n  }\n"]);return $n=function(){return n},n}var qn=j.d.form($n()),Qn=j.d.div(Un()),Xn=function(){var n=Object(r.useState)({}),e=Object(c.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)({}),l=Object(c.a)(i,2),u=l[0],d=l[1],s=Object(r.useState)({}),m=Object(c.a)(s,2),f=m[0],p=m[1],h=Object(r.useState)({}),v=Object(c.a)(h,2),b=v[0],g=v[1],j=Object(r.useState)({}),O=Object(c.a)(j,2),E=O[0],x=O[1],w=Object(r.useState)(""),y=Object(c.a)(w,2),S=y[0],C=y[1],I=Object(r.useState)(""),F=Object(c.a)(I,2),_=F[0],A=F[1],D=Object(r.useState)(null),z=Object(c.a)(D,2),T=z[0],M=z[1],N=Object(r.useState)(""),P=Object(c.a)(N,2),H=P[0],L=P[1],R=Object(r.useState)(""),B=Object(c.a)(R,2),J=B[0],U=B[1],$=k().updateFilter;return Object(r.useEffect)((function(){Jn().then((function(n){n.forEach((function(n){"locale"===n.id?o(n):"country"===n.id?d(n):"timestamp"===n.id?p(n):"limit"===n.id?g(n):"offset"===n.id&&x(n)}))}))}),[]),a.a.createElement(qn,{onSubmit:function(n){n.preventDefault(),$({locale:S,country:_,timestamp:T,limit:H,offset:J})}},a.a.createElement(Qn,null,a.a.createElement(Ln.a,{classNamePrefix:"react-select",placeholder:t.name,options:t.values,onChange:function(n){var e;return C(null===(e=n)||void 0===e?void 0:e.name)}})),a.a.createElement(Qn,null,a.a.createElement(Ln.a,{classNamePrefix:"react-select",placeholder:u.name,options:u.values,onChange:function(n){var e;return A(null===(e=n)||void 0===e?void 0:e.name)}})),a.a.createElement(Qn,null,a.a.createElement(Bn.a,{showTimeInput:!0,name:f.id,placeholderText:f.name,selected:T,dateFormat:"yyyy/MM/dd HH:mm",timeFormat:"HH:mm",onChange:function(n){return M(n)}})),a.a.createElement(Qn,null,a.a.createElement("input",{name:b.id,placeholder:b.name,value:H,onChange:function(n){var e,t=Number(n.target.value);t||L(""),b.validation&&(t<Number(b.validation.min)||t>Number(null===(e=b.validation)||void 0===e?void 0:e.max))||L(t.toString())},type:"number"})),a.a.createElement(Qn,null,a.a.createElement("input",{name:E.id,placeholder:E.name,value:J,onChange:function(n){return U(n.target.value)},type:"number"})),a.a.createElement("button",{type:"submit"},"Filtrar"))};function Gn(){var n=Object(O.a)(["\n  margin: 3rem 0;\n\n  a {\n    display: flex;\n    align-items: center;\n\n    background-color: #303030;\n    border-radius: 0.7rem;\n    color: #fff;\n    padding: 1rem;\n    text-decoration: none;\n    transition: transform 0.2s;\n\n    & + a {\n      margin-top: 1rem;\n    }\n\n    &:hover {\n      transform: translateX(0.8rem);\n    }\n\n    img {\n      border-radius: 0.7rem;\n      height: 7rem;\n      width: 7rem;\n    }\n\n    div {\n      flex: 1;\n      margin-left: 1rem;\n\n      strong {\n        display: block;\n        font-size: 1.2rem;\n        line-height: 1.5rem;\n        margin-bottom: 0.5rem;\n      }\n\n      p {\n        color: #c2c2c2;\n        line-height: 1.3rem;\n      }\n    }\n  }\n"]);return Gn=function(){return n},n}var Kn=j.d.div(Gn()),Vn=function(n){var e=n.items;return a.a.createElement(Kn,null,e.map((function(n){return a.a.createElement("a",{key:n.id,href:n.external_urls.spotify},a.a.createElement("img",{src:n.images[0].url,alt:n.name}),a.a.createElement("div",null,a.a.createElement("strong",null,n.name),a.a.createElement("p",null,n.description)))})))},Wn=function(){var n=Object(r.useState)([]),e=Object(c.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)([]),l=Object(c.a)(i,2),u=l[0],d=l[1],s=Object(r.useRef)(""),m=function(){var n=Object(r.useContext)(v);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}().token,f=k().filter;function p(n,e){var t=n;if(e){var r=new RegExp("".concat(e,".+$"),"i");t=n.filter((function(n){return-1!==n.name.search(r)}))}d(t)}var b=Object(r.useCallback)((function(){m&&M(m,f).then((function(n){o(n),p(n,s.current)}))}),[m,f]);return Object(r.useEffect)((function(){b();var n=setInterval((function(){b()}),3e4);return function(){return clearInterval(n)}}),[b]),a.a.createElement(An,null,a.a.createElement(Dn,null,!m&&a.a.createElement(Tn,null,a.a.createElement(Mn,{hasToken:0!==(null===m||void 0===m?void 0:m.length)},a.a.createElement(Nn,null,a.a.createElement(I.a,{size:70})),a.a.createElement(Pn,null,"Acesse para encontrar as melhores playlists"),a.a.createElement(Hn,{onClick:h},a.a.createElement(I.a,{size:20})," Conectar com Spotify"))),m&&a.a.createElement(gn,null,a.a.createElement(zn,null,a.a.createElement(C.a,{size:20}),a.a.createElement("input",{onChange:function(n){s.current=n.target.value,p(t,s.current)},placeholder:"Pesquisar por nome..."})),a.a.createElement(Xn,null),u&&a.a.createElement(Vn,{items:u}))))},Yn=function(){var n=m().theme;return a.a.createElement(j.a,{theme:n},a.a.createElement(x,null),a.a.createElement(g.a,null,a.a.createElement(S,null,a.a.createElement(f.a,{path:"/",exact:!0,component:Wn}))))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s,null,a.a.createElement(b,null,a.a.createElement(Yn,null)))),document.getElementById("root"))},81:function(n,e,t){n.exports=t.p+"static/media/icon.977b3a3c.svg"},83:function(n,e,t){n.exports=t.p+"static/media/background-spotifood.905a3ab3.jpg"},89:function(n,e,t){n.exports=t(175)}},[[89,1,2]]]);
//# sourceMappingURL=main.0a5092f5.chunk.js.map